/* Performance and Accessibility Enhancement CSS */

/* Focus state improvements */
.focus\:streaming-focus:focus {
  outline: 2px solid rgb(59, 130, 246);
  outline-offset: 2px;
  border-radius: 4px;
}

.dark .focus\:streaming-focus:focus {
  outline-color: rgb(147, 197, 253);
}

/* Color blind user pattern support */
.streaming-status-pattern {
  position: relative;
}

.streaming-status-pattern::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: currentColor;
}

.streaming-status-pattern.status-started::before {
  animation: blink 1s infinite;
}

.streaming-status-pattern.status-generating::before {
  background-color: rgb(34, 197, 94);
  animation: pulse 1.5s infinite;
}

.streaming-status-pattern.status-completed::before {
  background-color: rgb(34, 197, 94);
  animation: none;
}

.streaming-status-pattern.status-error::before {
  background-color: rgb(239, 68, 68);
  animation: none;
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  .streaming-optimized {
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .gpu-accelerated {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
}

/* High resolution display optimizations */
@media (min-resolution: 2dppx) {
  .streaming-pulse {
    transform: scale3d(1, 1, 1);
  }
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .streaming-question-card {
    padding: 1.25rem;
    margin-bottom: 1rem;
  }
  
  .streaming-pulse {
    animation-duration: 1s;
  }
}

/* Enhanced reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .streaming-optimized,
  .gpu-accelerated {
    animation: none !important;
    transition: opacity 0.2s ease !important;
    will-change: auto !important;
  }
}